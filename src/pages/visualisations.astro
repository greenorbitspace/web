---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

// Chart components (React)
import BarChartDemo from "../components/charts/BarChartDemo.jsx";
import LineChartDemo from "../components/charts/LineChartDemo.jsx";
import PieChartDemo from "../components/charts/PieChartDemo.jsx";
import AreaChartDemo from "../components/charts/AreaChartDemo.jsx";
import RadarChartDemo from "../components/charts/RadarChartDemo.jsx";
import ScatterChartDemo from "../components/charts/ScatterChartDemo.jsx";
import MapDemo from "../components/charts/MapDemo.jsx";

// Shared data
import { sustainabilityData } from "../components/charts/data.js";

// Define chart sections with titles and components
const charts = [
  { title: "Bar Chart", component: BarChartDemo, data: sustainabilityData.regions },
  { title: "Line Chart", component: LineChartDemo, data: sustainabilityData.emissions },
  { title: "Pie / Donut Chart", component: PieChartDemo, data: sustainabilityData.sdgBreakdown },
  { title: "Area Chart", component: AreaChartDemo, data: sustainabilityData.emissions },
  { title: "Radar Chart", component: RadarChartDemo, data: sustainabilityData.sdgBreakdown },
  { title: "Scatter Plot", component: ScatterChartDemo, data: sustainabilityData.launches },
  { title: "Map / Geo Chart", component: MapDemo, data: sustainabilityData.regions },
];
---

<Layout title="Visualisations Demo" description="Explore data-driven visualisation components.">
  <Header />

  <main class="py-12 max-w-7xl mx-auto px-6 space-y-16">
    <h1 class="text-4xl font-bold text-center">Visualisations Gallery</h1>
    <p class="text-lg text-center text-gray-600 dark:text-gray-300">
      A fully data-driven demo of available chart types.
    </p>

    {charts.map(({ title, component: Chart, data }, index) => (
      <section key={index}>
        <h2 class="text-2xl font-semibold mb-4">{title}</h2>
        <Chart client:load data={data} />
      </section>
    ))}
  </main>

  <Footer />
</Layout>