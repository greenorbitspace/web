---
import '../styles/global.css';
import '../styles/transitions.css';
import GlobalSchema from '../components/Schema/GlobalSchema.astro';
import Seo from '../components/Seo.astro';

export interface Props {
  title: string;
  description?: string;
  ogImage?: string;
  canonical?: string;
  twitter?: {
    title?: string;
    description?: string;
    image?: string;
  };
}

const {
  title,
  description,
  ogImage,
  canonical,
  twitter
} = Astro.props;
---

<!DOCTYPE html>
<html lang="en" class="scroll-smooth" x-data="{ darkMode: localStorage.theme === 'dark' || (!localStorage.theme && window.matchMedia('(prefers-color-scheme: dark)').matches) }"
      x-bind:class="{ 'dark': darkMode }">

  <head>
    <Seo 
      title={title} 
      description={description} 
      ogImage={ogImage} 
      canonical={canonical} 
      twitter={twitter} 
    />
    {Astro.head}

    <!-- Alpine.js for dark mode toggle -->
    <script type="module" src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </head>

  <body class="antialiased bg-white dark:bg-primary-500 text-secondary-900 dark:text-secondary-100 transition-colors duration-300">
    <main id="page-wrapper" class="page-wrapper" role="main" tabindex="-1">
      <slot />
    </main>

    <!-- Global structured data -->
    <GlobalSchema />
  </body>
</html>