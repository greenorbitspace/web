---
import SatelliteEarth from './SatelliteEarth.astro';
import allOrganisations from '../data/organisations.json';

const partners = allOrganisations.filter(org => org.Type === 'partner');
const sortedPartners = partners.slice().sort((a, b) =>
  (a.Organisation ?? '').localeCompare(b.Organisation ?? '')
);
---

<section class="relative pt-32 pb-20 md:pt-40 overflow-hidden hero-section">
  <div class="container-custom relative z-10">
    <div class="grid md:grid-cols-2 gap-12 items-center">

      <!-- Hero Text -->
      <div class="animate-slide-up">
        <h1 class="mb-6 text-secondary-900 dark:text-white leading-tight">
          Where <span class="text-accent-500 dark:text-accent-500">Innovation</span> Meets Responsibility<br>
          For and Beyond Earth.
        </h1>
        <p class="text-xl text-primary-600 dark:text-white mb-8 max-w-lg">
          We empower science and space-powered brands to scale their impactâ€”through strategic, sustainable marketing that drives measurable results.
        </p>
        <div class="flex flex-wrap gap-4">
          <a href="/contact" class="btn-primary">Contact us</a>
        </div>
      </div>

      <!-- Hero Animation -->
      <SatelliteEarth />
    </div>
  </div>
</section>

<!-- Partner Showcase on White -->
<section class="bg-white dark:bg-white py-12 md:py-16">
  <div class="container-custom flex flex-col gap-6">

    <!-- Heading -->
    <div>
      <h2 class="text-3xl md:text-4xl font-bold text-secondary-900">
        Proudly <span class="bg-accent-500 px-2 py-1 rounded text-white">partnered</span> with industry leaders.
      </h2>
    </div>

    <!-- Auto-scrolling logos inside container -->
    <div class="overflow-hidden relative">
      <div class="flex gap-8 animate-marquee hover:pause-marquee">
        {sortedPartners.concat(sortedPartners).map((partner) => (
          <div class="flex flex-col items-center flex-shrink-0 relative group">
            <img
              src={partner.logo}
              alt={`${partner.Organisation} logo`}
              class="h-12 md:h-16 object-contain"
              onError={(e) => { e.currentTarget.src = '/logos/default-placeholder.svg'; }}
            />
            <!-- Hover text below logo -->
            <span class="text-sm md:text-m font-bold text-secondary-900 dark:text-primary-500 opacity-0 group-hover:opacity-100 transition-opacity z-50">
              {partner.Organisation}
            </span>
          </div>
        ))}
      </div>
    </div>

  </div>
</section>